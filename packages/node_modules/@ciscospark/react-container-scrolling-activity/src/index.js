import React, {PropTypes} from 'react';
import classNames from 'classnames';
import ScrollableComponent from '@ciscospark/react-container-scrollable';

import Spinner from '@ciscospark/react-component-spinner';
import ReadReceipts from '@ciscospark/react-component-activity-read-receipt';

import styles from './styles.css';

export default function ScrollingActivity(props) {
  const {
    isLoadingHistoryUp
  } = props;
  let spinnerUp;

  const spinner = <div className={classNames(`spinner-container`, styles.spinnerContainer)}><Spinner /></div>;

  if (isLoadingHistoryUp) {
    spinnerUp = spinner;
  }


  return (
    <ScrollableComponent>
      {spinnerUp}
      {props.children}
      <div className={classNames(`indicators`, styles.indicators)}>
        <ReadReceipts />
      </div>
    </ScrollableComponent>
  );
}

/* eslint-disable react/no-unused-prop-types */
/* eslint-disable-reason passing props via destructuring */
ScrollingActivity.propTypes = {
  children: PropTypes.node.isRequired,
  isLoadingHistoryUp: PropTypes.bool
};
/* eslint-enable react/no-unused-prop-types */
