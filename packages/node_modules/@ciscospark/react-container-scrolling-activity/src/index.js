import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';
import Spinner from '@ciscospark/react-component-spinner';
import injectScrollable from '@ciscospark/react-hoc-scrollable';

import styles from './styles.css';

const injectedPropTypes = {
  children: PropTypes.node.isRequired
};

const propTypes = {
  isLoadingHistoryUp: PropTypes.bool,
  ...injectedPropTypes
};

const defaultProps = {
  isLoadingHistoryUp: false
};

export function ScrollingActivity({
  isLoadingHistoryUp,
  children
}) {
  let spinnerUp;

  const spinner = (
    <div className={classNames('ciscospark-spinner-container', styles.spinnerContainer)}>
      <Spinner />
    </div>
  );

  if (isLoadingHistoryUp) {
    spinnerUp = spinner;
  }

  return (
    <div>
      {spinnerUp}
      {children}
    </div>
  );
}

ScrollingActivity.propTypes = propTypes;
ScrollingActivity.defaultProps = defaultProps;

export default injectScrollable(ScrollingActivity);
