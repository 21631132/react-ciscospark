import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';

import Icon from '@ciscospark/react-component-icon';

import styles from './styles.css';

export default function Button(props) {
  const {
    accessibilityLabel,
    buttonClassName,
    children,
    label,
    labelPosition,
    onClick,
    title,
    iconType
  } = props;

  const ariaLabel = accessibilityLabel || label || title;

  function handleKeyPress(e) {
    if (e.key === `Enter` || e.key === ` `) {
      onClick();
    }
  }

  return (
    <div className={classNames(`ciscospark-button-container`, styles.buttonContainer)}>
      <button
        aria-label={ariaLabel}
        className={classNames(`ciscospark-button`, styles.button, buttonClassName)}
        onClick={onClick}
        onKeyPress={handleKeyPress}
      >
        {
          iconType &&
          <Icon title={title} type={iconType} />
        }
        {
          labelPosition !== `bottom` &&
          label
        }
        {children}
      </button>
      {
        label && labelPosition === `bottom` &&
        <div className={classNames(`ciscospark-label`, styles.label, styles.labelBottom)}>{label}</div>
      }
    </div>
  );
}

Button.propTypes = {
  accessibilityLabel: PropTypes.string,
  buttonClassName: PropTypes.string,
  children: PropTypes.arrayOf(PropTypes.element),
  iconType: PropTypes.string,
  label: PropTypes.string,
  labelPosition: PropTypes.string,
  onClick: PropTypes.func.isRequired,
  title: PropTypes.string
};
