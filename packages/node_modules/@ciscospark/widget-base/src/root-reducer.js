import {combineReducers} from 'redux';
import {REMOVE_WIDGET} from './actions';

export default function createRootReducer(reducers = {}) {
  let widgetReducer;
  if (Object.keys(reducers).length) {
    widgetReducer = combineReducers(reducers);
  }
  return (state, action) => {
    if (action.type === REMOVE_WIDGET) {
      state = undefined;
    }
    if (widgetReducer) {
      return widgetReducer(state, action);
    }
    return state;
  };
}
