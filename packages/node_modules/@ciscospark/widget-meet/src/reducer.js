import {combineReducers} from 'redux';
import {Map} from 'immutable';

import media from '@ciscospark/redux-module-media';
import conversation from '@ciscospark/redux-module-conversation';
import avatar from '@ciscospark/redux-module-avatar';
import mercury from '@ciscospark/redux-module-mercury';

import {UPDATE_LOCAL_VIDEO_POSITION} from './actions';

export const initialState = new Map({
  localVideoPosition: {x: 0, y: 0}
});

export function reducer(state = initialState, action) {
  switch (action.type) {
  case UPDATE_LOCAL_VIDEO_POSITION:
    return state.set(`localVideoPosition`, action.payload.position);
  default:
    return state;
  }
}

export const reducers = {
  media,
  conversation,
  avatar,
  mercury,
  widgetMeet: reducer
};

export default combineReducers(reducers);
