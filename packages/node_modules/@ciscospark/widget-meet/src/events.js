import {base64} from '@ciscospark/common';

export const eventNames = {
  CALLS_CREATED: `calls:created`,
  CALLS_CONNECTED: `calls:connected`,
  CALLS_DISCONNECTED: `calls:disconnected`
};

export function constructCallEventData(call, actor, spaceId) {
  return {
    actorId: constructHydraId(`PEOPLE`, actor.id),
    personId: constructHydraId(`PEOPLE`, actor.id),
    personEmail: actor.email,
    roomId: constructHydraId(`ROOM`, spaceId),
    call
  };
}

function constructHydraId(type, id) {
  return base64.encode(`ciscospark://us/${type.toUpperCase()}/${id}`);
}
